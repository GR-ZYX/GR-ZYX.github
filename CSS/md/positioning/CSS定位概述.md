# CSS定位概述

[TOC]

**CSS 定位 (Positioning) 属性允许你对元素进行定位。**



## 一切皆为框

`div`、`h1` 或 `p` 元素常常被称为块级元素。这意味着这些元素显示为*一块内容*，即“块框”。与之相反，`span` 和 `strong` 等元素称为“行内元素”，这是因为它们的内容显示在行中，即“行内框”。

可以使用 **`display` 属性**改变生成的框的类型。这意味着，通过将 `display` 属性设置为 `block`，可以让行内元素（比如 `<a>` 元素）表现得像块级元素一样。还可以通过把 `display` 设置为 `none`，让生成的元素根本没有框。这样的话，该框及其所有内容就不再显示，不占用文档中的空间。

但是在一种情况下，即使没有进行显式定义，也会创建块级元素。这种情况发生在把一些文本添加到一个块级元素（比如 div）的开头。即使没有把这些文本定义为段落，它也会被当作段落对待：

```
<div>
some text
<p>Some more text.</p>
</div>
```

在这种情况下，这个框称为无名块框，因为它不与专门定义的元素相关联。

块级元素的文本行也会发生类似的情况。假设有一个包含三行文本的段落。每行文本形成一个无名框。无法直接对无名块或行框应用样式，因为没有可以应用样式的地方（注意，行框和行内框是两个概念）。但是，这有助于理解在屏幕上看到的所有东西都形成某种框。



[返回目录](#CSS定位概述)

------



## CSS 定位机制

CSS 有三种基本的定位机制：**普通流、浮动和绝对定位**。

除非专门指定，否则所有框都在普通流中定位。也就是说，普通流中的元素的位置由元素在 `(X)HTML` 中的位置决定。

块级框从上到下一个接一个地排列，框之间的垂直距离是由框的垂直外边距计算出来。

行内框在一行中水平布置。可以使用水平内边距、边框和外边距调整它们的间距。但是，垂直内边距、边框和外边距不影响行内框的高度。

由一行形成的水平框称为*行框（`Line Box`）*，行框的高度总是足以容纳它包含的所有行内框。不过，设置行高可以增加这个框的高度。



[返回目录](#CSS定位概述)

------



## 定位：`position` 

通过使用 **`position`属性** ，我们可以选择 4 种不同类型的定位，这会影响元素框生成的方式。

`position` 属性值的含义：

- `static`

  元素框正常生成。块级元素生成一个矩形框，作为文档流的一部分，行内元素则会创建一个或多个行框，置于其父元素中。

- `relative`

  元素框偏移某个距离。元素仍保持其未定位前的形状，它原本所占的空间仍保留。

  **相对定位元素经常被用来作为绝对定位元素的容器块**

- `absolute`

  元素框从文档流完全删除，并相对于其包含块定位。包含块可能是文档中的另一个元素或者是初始包含块。元素原先在正常文档流中所占的空间会关闭，就好像元素原来不存在一样。元素定位后生成一个块级框，而不论原来它在正常流中生成何种类型的框。

  **绝对定位的元素的位置相对于最近的已定位父元素，如果元素没有已定位的父元素，那么它的位置相对于`<html>`**

- `fixed`

  元素框的表现类似于将 position 设置为 absolute，不过其包含块是视窗本身。

- `sticky` 

  `sticky` 英文字面意思是粘，粘贴，所以可以把它称之为粘性定位。

  `position: sticky`基于用户的滚动位置来定位。

  粘性定位的元素是依赖于用户的滚动，在 `position:relative` 与 `position:fixed` 定位之间切换。

  它的行为就像 `position:relative`; 而当页面滚动超出目标区域时，它的表现就像 `position:fixed`;，它会固定在目标位置。

  元素定位表现为在跨越特定阈值前为相对定位，之后为固定定位。

  **这指定 `top`, `right`, `bottom` 或 `left` 四个阈值其中之一，才可使粘性定位生效。**否则其行为与相对定位相同。

   

  注意: `Internet Explorer`, `Edge 15` 及更早 `IE` 版本不支持 `sticky` 定位。 `Safari` 需要使用 `-webkit- prefix` (查看以下实例)。 

  ```
  div.sticky {
  
    position: -webkit-sticky; /* Safari */
  
    position: sticky;
  
    top: 0;
  
    background-color: green;
  
    border: 2px solid #4CAF50;
  
  }
  ```

### 定义和用法

| 默认值：          | static                             |
| :---------------- | ---------------------------------- |
| 继承性：          | no                                 |
| 版本：            | CSS2                               |
| JavaScript 语法： | *object*.style.position="absolute" |

### 属性值

| 值       | 描述                                                         |
| :------- | :----------------------------------------------------------- |
| absolute | 生成绝对定位的元素，相对于 static 定位以外的第一个父元素进行定位。元素的位置通过 "left", "top", "right" 以及 "bottom" 属性进行规定。 |
| fixed    | 生成绝对定位的元素，相对于浏览器窗口进行定位。元素的位置通过 "left", "top", "right" 以及 "bottom" 属性进行规定。 |
| relative | 生成相对定位的元素，相对于其正常位置进行定位。因此，"left:20" 会向元素的 LEFT 位置添加 20 像素。 |
| static   | 默认值。没有定位，元素出现在正常的流中（忽略 top, bottom, left, right 或者 z-index 声明）。 |
| inherit  | 规定应该从父元素继承 position 属性的值。                     |



[返回目录](#CSS定位概述)

------



## 定位属性：`top`、`right`、`bottom` 、`left` 

### 定义和用法

**`top` 属性**规定元素的顶部边缘。该属性定义了一个定位元素的上外边距边界与其包含块上边界之间的偏移。

**`right` 属性**规定元素的右边缘。该属性定义了定位元素右外边距边界与其包含块右边界之间的偏移。

**`bottom` 属性**规定元素的底部边缘。该属性定义了定位元素下外边距边界与其包含块下边界之间的偏移。

**`left` 属性**规定元素的左边缘。该属性定义了定位元素左外边距边界与其包含块左边界之间的偏移。

**注释：**如果 "`position`" 属性的值为 "`static`"，那么设置 `top`、`right`、`bottom` 、`left` 属性不会产生任何效果。

**说明**

对于 `static` 元素，为 `auto`；对于长度值，则为相应的绝对长度；对于百分比数值，为指定值；否则为 `auto`。

对于相对定义元素，如果 `top` 和 `bottom` 都是 `auto`，其计算值则都是 `0`；如果其中之一为 `auto`，则取另一个值的相反数；如果二者都不是 `auto`，`bottom` 将取 `top` 值的相反数。

对于相对定义元素，`left` 的计算值始终等于 `right`。

| 默认值：          | auto                         |
| :---------------- | ---------------------------- |
| 继承性：          | no                           |
| 版本：            | CSS2                         |
| JavaScript 语法： | *object*.style.top="50px"    |
| JavaScript 语法： | *object*.style.right="50px"  |
| JavaScript 语法： | *object*.style.bottom="50px" |
| JavaScript 语法： | *object*.style.left="100px"  |

### 属性值

| 值       | 描述                                               |
| :------- | :------------------------------------------------- |
| auto     | 默认值。通过浏览器计算上边缘的位置。               |
| *%*      | 设置以包含元素的百分比计的上边位置。可使用负值。   |
| *length* | 使用 px、cm 等单位设置元素的上边位置。可使用负值。 |
| inherit  | 规定应该从父元素继承 top 属性的值。                |



[返回目录](#CSS定位概述)

------



## 内容溢出： `overflow`

### 定义和用法

**`overflow` 属性**规定当内容溢出元素框时发生的事情。

**说明**

这个属性定义溢出元素内容区的内容会如何处理。如果值为 `scroll`，不论是否需要，用户代理都会提供一种滚动机制。因此，有可能即使元素框中可以放下所有内容也会出现滚动条。

| 默认值：          | visible                          |
| :---------------- | -------------------------------- |
| 继承性：          | no                               |
| 版本：            | CSS2                             |
| JavaScript 语法： | *object*.style.overflow="scroll" |

### 属性值

| 值      | 描述                                                     |
| :------ | :------------------------------------------------------- |
| visible | 默认值。内容不会被修剪，会呈现在元素框之外。             |
| hidden  | 内容会被修剪，并且其余内容是不可见的。                   |
| scroll  | 内容会被修剪，但是浏览器会显示滚动条以便查看其余的内容。 |
| auto    | 如果内容被修剪，则浏览器会显示滚动条以便查看其余的内容。 |
| inherit | 规定应该从父元素继承 overflow 属性的值。                 |

### 隐藏滚轮

`css3`有一个直接调用的css，保证隐藏滚动条的同时还可以继续通过滚轮向下翻

```
selector::-webkit-scrollbar {
	/*隐藏滚轮*/
	display: none;
	}
```

但是仅限于支持`css3`的浏览器。



[返回目录](#CSS定位概述)

------



## 元素形状：`clip `

### 定义和用法

**`clip` 属性**剪裁**绝对定位**元素。

**说明**

这个属性用于定义一个剪裁矩形。对于一个绝对定义元素，在这个矩形内的内容才可见。出了这个剪裁区域的内容会根据 overflow 的值来处理。剪裁区域可能比元素的内容区大，也可能比内容区小。

| 默认值：          | auto                                          |
| :---------------- | --------------------------------------------- |
| 继承性：          | no                                            |
| 版本：            | CSS2                                          |
| JavaScript 语法： | *object*.style.clip="rect(0px,50px,50px,0px)" |

### 属性值

| 值      | 描述                                                         |
| :------ | :----------------------------------------------------------- |
| *shape* | 设置元素的形状。唯一合法的形状值是：rect (*top*, *right*, *bottom*, *left*) |
| auto    | 默认值。不应用任何剪裁。                                     |
| inherit | 规定应该从父元素继承 clip 属性的值。                         |



[返回目录](#CSS定位概述)

------



## 元素垂直对齐方式：`vertical-align`

### 定义和用法

**`vertical-align` 属性**设置元素的垂直对齐方式。

**说明**

**该属性定义行内元素的基线相对于该元素所在行的基线的垂直对齐。**

允许指定负长度值和百分比值。这会使元素降低而不是升高。在表单元格中，这个属性会设置单元格框中的单元格内容的对齐方式。

| 默认值：          | baseline                              |
| :---------------- | ------------------------------------- |
| 继承性：          | no                                    |
| 版本：            | CSS1                                  |
| JavaScript 语法： | *object*.style.verticalAlign="bottom" |

### 可能的值

| 值          | 描述                                                         |
| :---------- | :----------------------------------------------------------- |
| baseline    | 默认。元素放置在父元素的基线上。                             |
| sub         | 垂直对齐文本的下标。                                         |
| super       | 垂直对齐文本的上标                                           |
| top         | 把元素的顶端与行中最高元素的顶端对齐                         |
| text-top    | 把元素的顶端与父元素字体的顶端对齐                           |
| middle      | 把此元素放置在父元素的中部。                                 |
| bottom      | 把元素的顶端与行中最低的元素的顶端对齐。                     |
| text-bottom | 把元素的底端与父元素字体的底端对齐。                         |
| length      |                                                              |
| %           | 使用 "line-height" 属性的百分比值来排列此元素。允许使用负值。 |
| inherit     | 规定应该从父元素继承 vertical-align 属性的值。               |



[返回目录](#CSS定位概述)

------



## 元素的堆叠顺序：`z-index`

### 定义和用法

**`z-index` 属性**设置元素的堆叠顺序。拥有更高堆叠顺序的元素总是会处于堆叠顺序较低的元素的前面。

**注释：**元素可拥有负的 z-index 属性值。

**注释：**z-index 仅能在定位元素上奏效（例如 position:absolute;）！

**说明**

该属性设置一个定位元素沿 z 轴的位置，z 轴定义为垂直延伸到显示区的轴。如果为正数，则离用户更近，为负数则表示离用户更远。

| 默认值：          | auto                      |
| :---------------- | ------------------------- |
| 继承性：          | no                        |
| 版本：            | CSS2                      |
| JavaScript 语法： | *object*.style.zIndex="1" |

### 属性值

| 值       | 描述                                    |
| :------- | :-------------------------------------- |
| auto     | 默认。堆叠顺序与父元素相等。            |
| *number* | 设置元素的堆叠顺序。                    |
| inherit  | 规定应该从父元素继承 z-index 属性的值。 |



[返回目录](#CSS定位概述)

------



